2025/10/29 22:19:03 âœ… Connected to Supabase PostgreSQL (simple protocol enabled)!

2025/10/29 22:19:04 [32m/Users/aditisaxena/mental-health-be/config/database.go:37 [33mSLOW SQL >= 200ms
[0m[31;1m[528.446ms] [33m[rows:0][35m CREATE EXTENSION IF NOT EXISTS "uuid-ossp";[0m

2025/10/29 22:19:04 [32m/Users/aditisaxena/mental-health-be/config/database.go:40 [33mSLOW SQL >= 200ms
[0m[31;1m[259.673ms] [33m[rows:0][35m CREATE EXTENSION IF NOT EXISTS "pgcrypto";[0m
2025/10/29 22:19:04 âœ… Connected to PostgreSQL!

2025/10/29 22:19:04 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:8 [33mSLOW SQL >= 200ms
[0m[31;1m[261.808ms] [33m[rows:0][35m 
		DO $$ BEGIN 
			-- User roles
			IF NOT EXISTS (SELECT 1 FROM pg_type WHERE typname = 'user_role') THEN 
				CREATE TYPE user_role AS ENUM ('student', 'admin', 'chief_admin', 'counselor'); 
			END IF;

			-- Complaint types
			IF NOT EXISTS (SELECT 1 FROM pg_type WHERE typname = 'complaint_type') THEN 
				CREATE TYPE complaint_type AS ENUM (
					'roommate', 
					'plumbing', 
					'cleanliness', 
					'electricity', 
					'Lost and Found', 
					'Other Issues'
				); 
			END IF;

			-- Complaint statuses
			IF NOT EXISTS (SELECT 1 FROM pg_type WHERE typname = 'status_type') THEN 
				CREATE TYPE status_type AS ENUM (
					'open', 
					'inprogress', 
					'resolved'
				); 
			END IF;
			-- Apology types
			IF NOT EXISTS (SELECT 1 FROM pg_type WHERE typname = 'apology_type') THEN 
				CREATE TYPE apology_type AS ENUM (
					'outing',
					'misconduct',
					'miscellaneous'
				);
			END IF;

			-- Apology statuses
			IF NOT EXISTS (SELECT 1 FROM pg_type WHERE typname = 'apology_status') THEN 
				CREATE TYPE apology_status AS ENUM (
					'submitted', 
					'reviewed', 
					'accepted', 
					'rejected'
				);
			END IF;
		END $$;
	[0m

2025/10/29 22:19:05 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:57 [33mSLOW SQL >= 200ms
[0m[31;1m[260.967ms] [33m[rows:0][35m ALTER TYPE complaint_type ADD VALUE IF NOT EXISTS 'electricity';[0m

2025/10/29 22:19:05 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:58 [33mSLOW SQL >= 200ms
[0m[31;1m[264.669ms] [33m[rows:0][35m ALTER TYPE complaint_type ADD VALUE IF NOT EXISTS 'Lost and Found';[0m

2025/10/29 22:19:05 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:59 [33mSLOW SQL >= 200ms
[0m[31;1m[262.140ms] [33m[rows:0][35m ALTER TYPE complaint_type ADD VALUE IF NOT EXISTS 'Other Issues';[0m

2025/10/29 22:19:05 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:62 [33mSLOW SQL >= 200ms
[0m[31;1m[275.129ms] [33m[rows:0][35m ALTER TYPE user_role ADD VALUE IF NOT EXISTS 'chief_admin';[0m

2025/10/29 22:19:06 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:65 [33mSLOW SQL >= 200ms
[0m[31;1m[265.555ms] [33m[rows:1][35m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'[0m

2025/10/29 22:19:06 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:65 [33mSLOW SQL >= 200ms
[0m[31;1m[263.036ms] [33m[rows:1][35m SELECT CURRENT_DATABASE()[0m

2025/10/29 22:19:06 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:65 [33mSLOW SQL >= 200ms
[0m[31;1m[276.012ms] [33m[rows:-][35m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'neondb' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'[0m

2025/10/29 22:19:07 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:65 [33mSLOW SQL >= 200ms
[0m[31;1m[279.595ms] [33m[rows:-][35m SELECT * FROM "users" LIMIT 5[0m

2025/10/29 22:19:07 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:65 [33mSLOW SQL >= 200ms
[0m[31;1m[268.231ms] [33m[rows:-][35m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'neondb' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'[0m

2025/10/29 22:19:08 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:65 [33mSLOW SQL >= 200ms
[0m[31;1m[751.596ms] [33m[rows:-][35m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'neondb' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'[0m

2025/10/29 22:19:08 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:65 [33mSLOW SQL >= 200ms
[0m[31;1m[325.904ms] [33m[rows:-][35m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'[0m

2025/10/29 22:19:08 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:65 [33mSLOW SQL >= 200ms
[0m[31;1m[263.668ms] [33m[rows:0][35m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))[0m

2025/10/29 22:19:09 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:65 [33mSLOW SQL >= 200ms
[0m[31;1m[261.885ms] [33m[rows:0][35m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))[0m

2025/10/29 22:19:09 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:65 [33mSLOW SQL >= 200ms
[0m[31;1m[266.129ms] [33m[rows:0][35m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))[0m

2025/10/29 22:19:09 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:65 [33mSLOW SQL >= 200ms
[0m[31;1m[266.430ms] [33m[rows:0][35m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))[0m

2025/10/29 22:19:09 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:65 [33mSLOW SQL >= 200ms
[0m[31;1m[260.876ms] [33m[rows:0][35m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))[0m

2025/10/29 22:19:10 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:65 [33mSLOW SQL >= 200ms
[0m[31;1m[275.072ms] [33m[rows:0][35m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'block') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))[0m

2025/10/29 22:19:10 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:65 [33mSLOW SQL >= 200ms
[0m[31;1m[261.825ms] [33m[rows:0][35m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))[0m

2025/10/29 22:19:10 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:65 [33mSLOW SQL >= 200ms
[0m[31;1m[261.717ms] [33m[rows:1][35m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'student_models' AND table_type = 'BASE TABLE'[0m

2025/10/29 22:19:11 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:65 [33mSLOW SQL >= 200ms
[0m[31;1m[283.884ms] [33m[rows:1][35m SELECT CURRENT_DATABASE()[0m

2025/10/29 22:19:11 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:65 [33mSLOW SQL >= 200ms
[0m[31;1m[266.823ms] [33m[rows:-][35m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'neondb' AND table_schema = CURRENT_SCHEMA() AND table_name = 'student_models'[0m

2025/10/29 22:19:12 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:65 [33mSLOW SQL >= 200ms
[0m[31;1m[764.598ms] [33m[rows:-][35m SELECT * FROM "student_models" LIMIT 5[0m

2025/10/29 22:19:12 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:65 [33mSLOW SQL >= 200ms
[0m[31;1m[280.457ms] [33m[rows:-][35m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'neondb' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'student_models' AND constraint_type = 'UNIQUE'[0m

2025/10/29 22:19:12 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:65 [33mSLOW SQL >= 200ms
[0m[31;1m[263.781ms] [33m[rows:-][35m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'neondb' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'student_models'[0m

2025/10/29 22:19:12 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:65 [33mSLOW SQL >= 200ms
[0m[31;1m[262.487ms] [33m[rows:-][35m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'student_models'[0m

2025/10/29 22:19:13 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:65 [33mSLOW SQL >= 200ms
[0m[31;1m[262.497ms] [33m[rows:0][35m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'student_models' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'student_models' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))[0m

2025/10/29 22:19:13 [31;1m [35;1mERROR: constraint "uni_student_models_user_id" of relation "student_models" does not exist (SQLSTATE 42704)
[0m[33m[261.632ms] [34;1m[rows:0][0m ALTER TABLE "student_models" DROP CONSTRAINT "uni_student_models_user_id"

2025/10/29 22:19:13 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:77 [33mSLOW SQL >= 200ms
[0m[31;1m[281.861ms] [33m[rows:0][35m 
		ALTER TABLE complaints 
		ALTER COLUMN type TYPE complaint_type USING type::complaint_type,
		ALTER COLUMN status TYPE status_type USING status::status_type;
	[0m

2025/10/29 22:19:13 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:84 [33mSLOW SQL >= 200ms
[0m[31;1m[268.136ms] [33m[rows:0][35m DO $$ BEGIN
		IF NOT EXISTS (SELECT 1 FROM information_schema.columns WHERE table_name='complaints' AND column_name='student_identifier') THEN
			ALTER TABLE complaints ADD COLUMN student_identifier text;
		END IF;
		IF NOT EXISTS (SELECT 1 FROM information_schema.columns WHERE table_name='apologies' AND column_name='student_identifier') THEN
			ALTER TABLE apologies ADD COLUMN student_identifier text;
		END IF;
		-- Add priority column for complaints (text with default 'medium')
		IF NOT EXISTS (SELECT 1 FROM information_schema.columns WHERE table_name='complaints' AND column_name='priority') THEN
			ALTER TABLE complaints ADD COLUMN priority text DEFAULT 'medium';
		END IF;
	END $$;[0m

2025/10/29 22:19:14 [32m/Users/aditisaxena/mental-health-be/models/migrate.go:98 [33mSLOW SQL >= 200ms
[0m[31;1m[301.057ms] [33m[rows:0][35m DO $$ BEGIN
		IF NOT EXISTS (SELECT 1 FROM pg_tables WHERE schemaname = CURRENT_SCHEMA() AND tablename = 'password_reset_tokens') THEN
			CREATE TABLE password_reset_tokens (
				id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
				user_id uuid NOT NULL REFERENCES users(id) ON DELETE CASCADE,
				token text NOT NULL UNIQUE,
				expires_at timestamptz,
				created_at timestamptz DEFAULT now()
			);
		END IF;
	END $$;[0m

2025/10/29 22:19:14 [32m/Users/aditisaxena/mental-health-be/models/seed.go:15 [33mSLOW SQL >= 200ms
[0m[31;1m[260.964ms] [33m[rows:1][35m SELECT count(*) FROM "users"[0m
2025/10/29 22:19:14 ðŸŒ± Seed skipped (users already exist)
2025/10/29 22:19:14 ðŸ“¦ Database migrations completed successfully!
2025/10/29 22:19:14 ðŸš€ Server running at http://localhost:8080
2025/10/29 22:19:14 failed to listen: listen tcp4 :8080: bind: address already in use
exit status 1
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
2025/10/29 22:21:33 [32m/Users/aditisaxena/mental-health-be/controllers/auth.go:51 [33mSLOW SQL >= 200ms
[0m[31;1m[1011.732ms] [33m[rows:1][35m SELECT * FROM "users" WHERE email = 'student1@uni.com' ORDER BY "users"."id" LIMIT 1[0m

2025/10/29 22:21:34 [32m/Users/aditisaxena/mental-health-be/controllers/auth.go:51 [33mSLOW SQL >= 200ms
[0m[31;1m[513.417ms] [33m[rows:1][35m SELECT * FROM "users" WHERE email = 'admin@hostel.com' ORDER BY "users"."id" LIMIT 1[0m

2025/10/29 22:21:34 [32m/Users/aditisaxena/mental-health-be/controllers/auth.go:109 [33mSLOW SQL >= 200ms
[0m[31;1m[257.101ms] [33m[rows:1][35m SELECT * FROM "users" WHERE email = 'student1@uni.com' ORDER BY "users"."id" LIMIT 1[0m

2025/10/29 22:21:36 [31;1m/Users/aditisaxena/mental-health-be/controllers/auth.go:109 [35;1mrecord not found
[0m[33m[523.906ms] [34;1m[rows:0][0m SELECT * FROM "users" WHERE email = 'admin_noblock@hostel.com' ORDER BY "users"."id" LIMIT 1

2025/10/29 22:21:36 [32m/Users/aditisaxena/mental-health-be/controllers/auth.go:109 [33mSLOW SQL >= 200ms
[0m[31;1m[261.086ms] [33m[rows:1][35m SELECT * FROM "users" WHERE email = 'admin@hostel.com' ORDER BY "users"."id" LIMIT 1[0m

2025/10/29 22:21:42 [32m/Users/aditisaxena/mental-health-be/controllers/complaint.go:162 [33mSLOW SQL >= 200ms
[0m[31;1m[257.187ms] [33m[rows:4][35m SELECT * FROM "attachments" WHERE "attachments"."complaint_id" IN ('28ef0959-148e-4b8a-9543-eb9d1ce45f82','a440fd78-e921-4693-a094-d144926a658b','ce3f1cfe-09f8-442d-af4e-ad4f8fbaa1af','4980209a-2bde-4d8b-b133-1160c38974da','82275722-fbd5-4976-882a-d0050b04f5f0','b18a378d-5dc9-4d9b-8010-3df88d138ae5','4b15dbd7-66c7-40fb-8392-f2a96d5cac76','b1bb3e6f-8d28-4363-b762-50f2b20e3b70')[0m

2025/10/29 22:21:43 [32m/Users/aditisaxena/mental-health-be/controllers/complaint.go:162 [33mSLOW SQL >= 200ms
[0m[31;1m[261.745ms] [33m[rows:2][35m SELECT * FROM "users" WHERE "users"."id" IN ('abe54790-2c9f-416d-be17-7339284ace65','62256cf0-9c42-4c48-bd35-f8c6df00fde8')[0m

2025/10/29 22:21:43 [32m/Users/aditisaxena/mental-health-be/controllers/complaint.go:162 [33mSLOW SQL >= 200ms
[0m[31;1m[518.690ms] [33m[rows:2][35m SELECT * FROM "student_models" WHERE "student_models"."user_id" IN ('abe54790-2c9f-416d-be17-7339284ace65','62256cf0-9c42-4c48-bd35-f8c6df00fde8')[0m

2025/10/29 22:21:43 [32m/Users/aditisaxena/mental-health-be/controllers/complaint.go:162 [33mSLOW SQL >= 200ms
[0m[31;1m[516.099ms] [33m[rows:23][35m SELECT * FROM "timeline_entries" WHERE "timeline_entries"."complaint_id" IN ('28ef0959-148e-4b8a-9543-eb9d1ce45f82','a440fd78-e921-4693-a094-d144926a658b','ce3f1cfe-09f8-442d-af4e-ad4f8fbaa1af','4980209a-2bde-4d8b-b133-1160c38974da','82275722-fbd5-4976-882a-d0050b04f5f0','b18a378d-5dc9-4d9b-8010-3df88d138ae5','4b15dbd7-66c7-40fb-8392-f2a96d5cac76','b1bb3e6f-8d28-4363-b762-50f2b20e3b70')[0m

2025/10/29 22:21:43 [32m/Users/aditisaxena/mental-health-be/controllers/complaint.go:162 [33mSLOW SQL >= 200ms
[0m[31;1m[274.952ms] [33m[rows:2][35m SELECT * FROM "users" WHERE "users"."id" IN ('abe54790-2c9f-416d-be17-7339284ace65','62256cf0-9c42-4c48-bd35-f8c6df00fde8')[0m

2025/10/29 22:21:43 [32m/Users/aditisaxena/mental-health-be/controllers/complaint.go:162 [33mSLOW SQL >= 200ms
[0m[31;1m[2343.467ms] [33m[rows:8][35m SELECT * FROM "complaints" ORDER BY created_at DESC[0m

2025/10/29 22:21:44 [32m/Users/aditisaxena/mental-health-be/controllers/complaint.go:52 [33mSLOW SQL >= 200ms
[0m[31;1m[262.322ms] [33m[rows:1][35m SELECT * FROM "student_models" WHERE user_id = 'abe54790-2c9f-416d-be17-7339284ace65' ORDER BY "student_models"."id" LIMIT 1[0m

2025/10/29 22:21:46 [32m/Users/aditisaxena/mental-health-be/controllers/complaint.go:58 [33mSLOW SQL >= 200ms
[0m[31;1m[272.316ms] [33m[rows:1][35m INSERT INTO "complaints" ("title","user_id","student_identifier","type","description","priority","status","created_at","id") VALUES ('Fan not working','abe54790-2c9f-416d-be17-7339284ace65','','electricity','Fan in my room stopped working','medium','open','2025-10-29 22:21:46.295','6935a0ee-31b2-4cb2-8668-267ee72e3190') RETURNING "id"[0m

2025/10/29 22:21:46 [32m/Users/aditisaxena/mental-health-be/controllers/complaint.go:88 [33mSLOW SQL >= 200ms
[0m[31;1m[265.254ms] [33m[rows:1][35m INSERT INTO "attachments" ("complaint_id","file_name","file_url","size","file_path","id") VALUES ('6935a0ee-31b2-4cb2-8668-267ee72e3190','tiny.jpg','uploads/attachments/6935a0ee-31b2-4cb2-8668-267ee72e3190/tiny.jpg','346','uploads/attachments/6935a0ee-31b2-4cb2-8668-267ee72e3190/tiny.jpg','cd5ccbeb-171c-4516-b36a-139e10d6b78e') RETURNING "id"[0m

2025/10/29 22:21:48 [32m/Users/aditisaxena/mental-health-be/controllers/apology_l.go:46 [33mSLOW SQL >= 200ms
[0m[31;1m[517.933ms] [33m[rows:1][35m SELECT * FROM "student_models" WHERE user_id = 'abe54790-2c9f-416d-be17-7339284ace65' ORDER BY "student_models"."id" LIMIT 1[0m

2025/10/29 22:21:49 [32m/Users/aditisaxena/mental-health-be/controllers/apology_l.go:53 [33mSLOW SQL >= 200ms
[0m[31;1m[1037.495ms] [33m[rows:1][35m INSERT INTO "apologies" ("student_id","student_identifier","apology_type","message","description","status","comment","created_at") VALUES ('abe54790-2c9f-416d-be17-7339284ace65','','misconduct','Apology for missing morning roll call','Woke up late, will be careful next time','submitted','','2025-10-29 22:21:48.37') RETURNING "id"[0m

2025/10/29 22:21:50 [32m/Users/aditisaxena/mental-health-be/controllers/apology_l.go:58 [33mSLOW SQL >= 200ms
[0m[31;1m[265.386ms] [33m[rows:1][35m SELECT * FROM "users" WHERE "users"."id" = 'abe54790-2c9f-416d-be17-7339284ace65'[0m

2025/10/29 22:21:50 [32m/Users/aditisaxena/mental-health-be/controllers/apology_l.go:58 [33mSLOW SQL >= 200ms
[0m[31;1m[530.986ms] [33m[rows:1][35m SELECT * FROM "student_models" WHERE "student_models"."user_id" = 'abe54790-2c9f-416d-be17-7339284ace65'[0m

2025/10/29 22:21:50 [32m/Users/aditisaxena/mental-health-be/controllers/apology_l.go:58 [33mSLOW SQL >= 200ms
[0m[31;1m[1045.330ms] [33m[rows:1][35m SELECT * FROM "apologies" WHERE id = '020fa006-8059-47f2-85a4-4f3a3113158e' AND "apologies"."id" = '020fa006-8059-47f2-85a4-4f3a3113158e' ORDER BY "apologies"."id" LIMIT 1[0m

2025/10/29 22:21:51 [32m/Users/aditisaxena/mental-health-be/controllers/apology_l.go:78 [33mSLOW SQL >= 200ms
[0m[31;1m[257.058ms] [33m[rows:1][35m SELECT * FROM "users" WHERE "users"."id" = 'abe54790-2c9f-416d-be17-7339284ace65'[0m

2025/10/29 22:21:51 [32m/Users/aditisaxena/mental-health-be/controllers/apology_l.go:78 [33mSLOW SQL >= 200ms
[0m[31;1m[517.164ms] [33m[rows:1][35m SELECT * FROM "student_models" WHERE "student_models"."user_id" = 'abe54790-2c9f-416d-be17-7339284ace65'[0m

2025/10/29 22:21:51 [32m/Users/aditisaxena/mental-health-be/controllers/apology_l.go:78 [33mSLOW SQL >= 200ms
[0m[31;1m[1033.350ms] [33m[rows:7][35m SELECT * FROM "apologies" WHERE student_id = 'abe54790-2c9f-416d-be17-7339284ace65' ORDER BY created_at desc[0m

2025/10/29 22:21:51 [32m/Users/aditisaxena/mental-health-be/middlewares/auth.go:54 [33mSLOW SQL >= 200ms
[0m[31;1m[264.727ms] [33m[rows:1][35m SELECT * FROM "users" WHERE id = '2667d2ca-3510-4bc7-a370-7a68612f87f2' ORDER BY "users"."id" LIMIT 1[0m

2025/10/29 22:21:51 [32m/Users/aditisaxena/mental-health-be/middlewares/auth.go:54 [33mSLOW SQL >= 200ms
[0m[31;1m[264.150ms] [33m[rows:1][35m SELECT * FROM "users" WHERE id = '2667d2ca-3510-4bc7-a370-7a68612f87f2' ORDER BY "users"."id" LIMIT 1[0m

2025/10/29 22:21:52 [32m/Users/aditisaxena/mental-health-be/controllers/metrics.go:13 [33mSLOW SQL >= 200ms
[0m[31;1m[257.306ms] [33m[rows:1][35m SELECT count(*) FROM "complaints" WHERE status = 'open'[0m

2025/10/29 22:21:52 [32m/Users/aditisaxena/mental-health-be/controllers/metrics.go:14 [33mSLOW SQL >= 200ms
[0m[31;1m[256.649ms] [33m[rows:1][35m SELECT count(*) FROM "complaints" WHERE status = 'inprogress'[0m

2025/10/29 22:21:52 [32m/Users/aditisaxena/mental-health-be/controllers/metrics.go:15 [33mSLOW SQL >= 200ms
[0m[31;1m[268.518ms] [33m[rows:1][35m SELECT count(*) FROM "complaints" WHERE status = 'resolved'[0m

2025/10/29 22:21:53 [32m/Users/aditisaxena/mental-health-be/controllers/metrics.go:28 [33mSLOW SQL >= 200ms
[0m[31;1m[269.572ms] [33m[rows:1][35m SELECT count(*) FROM "complaints" WHERE status = 'resolved'[0m

2025/10/29 22:21:53 [32m/Users/aditisaxena/mental-health-be/controllers/metrics.go:29 [33mSLOW SQL >= 200ms
[0m[31;1m[256.943ms] [33m[rows:1][35m SELECT count(*) FROM "complaints"[0m

2025/10/29 22:21:53 [32m/Users/aditisaxena/mental-health-be/controllers/metrics.go:43 [33mSLOW SQL >= 200ms
[0m[31;1m[265.690ms] [33m[rows:1][35m SELECT count(*) FROM "complaints" WHERE status = 'open'[0m

2025/10/29 22:21:53 [32m/Users/aditisaxena/mental-health-be/controllers/auth.go:51 [33mSLOW SQL >= 200ms
[0m[31;1m[257.537ms] [33m[rows:1][35m SELECT * FROM "users" WHERE email = 'counselor1@hostel.com' ORDER BY "users"."id" LIMIT 1[0m

2025/10/29 22:21:54 [32m/Users/aditisaxena/mental-health-be/controllers/auth.go:109 [33mSLOW SQL >= 200ms
[0m[31;1m[256.476ms] [33m[rows:1][35m SELECT * FROM "users" WHERE email = 'counselor1@hostel.com' ORDER BY "users"."id" LIMIT 1[0m

2025/10/29 22:21:56 [32m/Users/aditisaxena/mental-health-be/controllers/auth.go:109 [33mSLOW SQL >= 200ms
[0m[31;1m[1269.295ms] [33m[rows:1][35m SELECT * FROM "users" WHERE email = 'admin@hostel.com' ORDER BY "users"."id" LIMIT 1[0m

2025/10/29 22:21:58 [32m/Users/aditisaxena/mental-health-be/controllers/counseling.go:217 [33mSLOW SQL >= 200ms
[0m[31;1m[531.225ms] [33m[rows:1][35m SELECT * FROM "users" WHERE id = 'abe54790-2c9f-416d-be17-7339284ace65' ORDER BY "users"."id" LIMIT 1[0m

2025/10/29 22:22:00 [32m/Users/aditisaxena/mental-health-be/controllers/counseling.go:221 [33mSLOW SQL >= 200ms
[0m[31;1m[256.892ms] [33m[rows:1][35m SELECT * FROM "users" WHERE "users"."id" = 'abe54790-2c9f-416d-be17-7339284ace65'[0m

2025/10/29 22:22:00 [32m/Users/aditisaxena/mental-health-be/controllers/counseling.go:221 [33mSLOW SQL >= 200ms
[0m[31;1m[1233.652ms] [33m[rows:1][35m SELECT * FROM "student_models" WHERE user_id = 'abe54790-2c9f-416d-be17-7339284ace65' ORDER BY "student_models"."id" LIMIT 1[0m
